(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):e.affixingHeader=t()})(this,function(){"use strict";"use strict";var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=e!==undefined,i=false,n=false,o=window.pageYOffset,f=window.pageXOffset,s=o,l=f,u=["x","horizontal"],r=["any"],a={x:[],y:[],any:[]};function d(){var e;if(o!==s){for(e=0;e<a.y.length;e++){a.y[e](o)}s=o}if(f!==l){for(e=0;e<a.x.length;e++){a.x[e](f)}l=f}for(e=0;e<a.any.length;e++){a.any[e]([f,o])}n=false}function c(){if(!n){e(d)}n=true}function p(){if(a.x.length||a.any.length){f=window.pageXOffset}if(a.y.length||a.any.length){o=window.pageYOffset}c()}function h(e,n){if(!t){return}if(!i){window.addEventListener("scroll",p);document.body.addEventListener("touchmove",p);i=true}if(typeof e==="function"){n=e;a.y.push(n);return}if(typeof n==="function"){if(~u.indexOf(e)){a.x.push(n)}else if(~r.indexOf(e)){a.any.push(n)}else{a.y.push(n)}}}h.remove=function(e,t){var i="y",n,o;if(typeof e==="string"){if(typeof t!=="function"){return}if(~u.indexOf(e)){i=u[0]}else if(~r.indexOf(e)){i=r[0]}}else{t=e}n=a[i];o=n.indexOf(t);if(o>-1){n.splice(o,1)}};h.off=h.remove;var y=h;"use strict";var m=0,g=0,w=0,x=false,v=false,H={},O={},E,b;function T(){x=true;v=false;E.style.position="fixed";E.style.top="0px";O.top=0}function q(){var e=false;if(!x){return}w=0;x=false;if(!v){if(g>m+O.height+5){e=m+5}else{e=g}}else{v=false}if(e!==false){E.style.top=e+"px";O.top=e}E.style.position="absolute"}function A(){if(!x&&O.top>g){T()}}function F(e){g=e;A();if(g<0||H.scrollHeight-H.scrollTop<H.clientHeight){return}if(g<m){if(!x&&g+O.height+10<m||v&&g<=O.top+2){T()}else if(!x&&!v){if(w>6){x=true;O.height=E.offsetHeight;if(g>O.top+O.height+25){O.top=g-O.height-25;E.style.top=O.top+"px"}v=true}w++}}else if(x){q()}m=g}function z(){H.clientHeight=document.documentElement.clientHeight;H.scrollHeight=document.documentElement.scrollHeight;H.scrollTop=document.documentElement.scrollTop;O.height=E.offsetHeight}function L(){if(b){window.clearTimeout(b)}window.setTimeout(z,150)}var R=function(e){if(!e){return}E=e;E.style.position="absolute";E.style.top="0px";O.top=0;z();window.addEventListener("resize",L);y(F)};return R});